<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Disease Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='analyse.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1><i class="fas fa-virus"></i> Global Disease Tracker</h1>
            <p>Real-time analytics of global health trends</p>
        </div>
        <div class="last-updated" id="lastUpdated"></div>
    </div>

    <div class="dashboard-container">
        <div class="sidebar">
            <div class="filter-card">
                <h3><i class="fas fa-filter"></i> Filters</h3>
                <div class="filter-group">
                    <label for="disease-select">Disease:</label>
                    <select id="disease-select">
                        <option value="covid">COVID-19</option>
                        <option value="malaria">Malaria</option>
                        <option value="hiv">HIV/AIDS</option>
                        <option value="tb">Tuberculosis</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="time-range">Time Range:</label>
                    <select id="time-range">
                        <option value="7">Last 7 Days</option>
                        <option value="30" selected>Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                        <option value="365">Last Year</option>
                    </select>
                </div>
                <button id="apply-filters"><i class="fas fa-sync-alt"></i> Apply Filters</button>
            </div>

            <div class="stats-card">
                <h3><i class="fas fa-chart-pie"></i> Quick Stats</h3>
                <div class="stat-item">
                    <div class="stat-label">Global Cases</div>
                    <div class="stat-value" id="global-cases">Loading...</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Recovery Rate</div>
                    <div class="stat-value" id="recovery-rate">Loading...</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Active Countries</div>
                    <div class="stat-value" id="active-countries">Loading...</div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="card map-card">
                <div class="card-header">
                    <h2><i class="fas fa-map-marked-alt"></i> Disease Spread Map</h2>
                    <div class="card-actions">
                        <button class="btn-export"><i class="fas fa-download"></i> Export</button>
                    </div>
                </div>
                <div id="disease-map"></div>
            </div>

            <div class="card-row">
                <div class="card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-chart-line"></i> Infection Trends</h2>
                    </div>
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>

                <div class="card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-procedures"></i> Treatment Efficacy</h2>
                    </div>
                    <div class="chart-container">
                        <canvas id="treatmentChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="card-row">
                <div class="card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-users"></i> Age Distribution</h2>
                    </div>
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                </div>

                <div class="card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-venus-mars"></i> Gender Distribution</h2>
                    </div>
                    <div class="chart-container">
                        <canvas id="genderChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>Data Sources: WHO, Johns Hopkins University, CDC | Last Updated: <span id="data-source-date">Loading...</span></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{{ url_for('static', filename='analyse.js') }}"></script>
</body>
</html>